<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Fork of Fork of Fork of Fork of Fork of Fork of Fork of Final Project</title>
		<script src="https://d3js.org/d3.v6.min.js"></script>

	</head>
	<body>
	<div style="width: 800px">

	  <h1>NYC crimes from 2012 to 2021</h1>
    <h1>different races</h1>
		<input type="radio" name="point" onclick="black()" value="1">
		<label for="1">View BLACK</label>
    <input type="radio" name="point" onclick="white()" value="2">
		<label for="2">View WHITE </label>
    <input type="radio" name="point" onclick="aian()" value="3">
		<label for="3">View AMERICAN INDIAN/ALASKAN NATIVE </label>
    <input type="radio" name="point" onclick="asian()" value="4">
		<label for="4">View ASIAN / PACIFIC ISLANDER </label>
    <input type="radio" name="point" onclick="unknown()" value="5">
		<label for="5">View UNKNOWN RACE</label>
		<input type="radio" name="point" onclick="bh()" value="6">
		<label for="6">View BLACK HISPANIC</label>
    <input type="radio" name="point" onclick="wh()" value="7">
		<label for="7">View WHITE HISPANIC</label>
    
    

		</div>

<svg x="440" width="1000" height="600" ></svg>

	<script type="text/javascript">

	SO2=[]
	var w = 1000;
	var h = 2000;
	var margin = {top: 25, right: 25, bottom: 25,
			left: 400};
	var innerWidth = w - margin.left - margin.right+200;
	var innerHeight = h - margin.top - margin.bottom+300;
	
	var svg=d3.select("body").select("svg");
	svg.append("rect").attr("fill","#EEF7FA").attr("height",h).attr("width",w);
    
    STATE=['ADMINISTRATIVE CODE', 'ASSAULT 3 & RELATED OFFENSES', 'BURGLARY',
       'CRIMINAL MISCHIEF & RELATED',
       'CRIMINAL MISCHIEF & RELATED OFFENSES', 'CRIMINAL TRESPASS',
       'DANGEROUS DRUGS', 'DANGEROUS WEAPONS', 'FELONY ASSAULT', 'FORGERY',
       'FRAUDS', 'GRAND LARCENY', 'INTOXICATED & IMPAIRED DRIVING',
       'MISCELLANEOUS PENAL LAW', 'OFF. AGNST PUB ORD SENSBLTY',
       'OFF. AGNST PUB ORD SENSBLTY & RGHTS TO PRIV',
       'OFFENSES AGAINST PUBLIC ADMINI',
       'OFFENSES AGAINST PUBLIC ADMINISTRATION', 'OFFENSES AGAINST THE PERSON',
       'OFFENSES INVOLVING FRAUD', 'OTHER OFFENSES RELATED TO THEFT',
       'OTHER STATE LAWS', 'OTHER STATE LAWS (NON PENAL LAW)',
       'OTHER TRAFFIC INFRACTION', 'PETIT LARCENY',
       'POSSESSION OF STOLEN PROPERTY', 'POSSESSION OF STOLEN PROPERTY 5',
       'PROSTITUTION & RELATED OFFENSES', 'ROBBERY', 'SEX CRIMES',
       'VEHICLE AND TRAFFIC LAWS']

	Month=[2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021]
// initialzation
 var color = ["#6b486b", "yellow", "red", "green","blue","darkgreen","pink","gray","purple","#FF9999","#666000", "#CC6633", "red", "#3B3131","#E5E4E2","gold","#7DFDFE","#25383C","#9966CC","slateblue","#6b486b", "#808000",
 "#E6BF83", "darkgray","#954535","orange","#DF73D4"," #FAF0E6","#990033","#FF00FF"]

 var data_black = [[   19,     0,   381,  2627,  1931,  1112,   545,   280,    58,
           25],
       [17864, 17982, 17677, 16611, 16262, 15960, 15924, 15042, 11105,
         9449],
       [ 2541,  2420,  2354,  2138,  2194,  1956,  2168,  2161,  3114,
         1582],
       [  119,   120,   106,    83,    94,    92,   206,  4783,  3714,
         3216],
       [ 4481,  4609,  4873,  4864,  4826,  4545,  4527,     0,     0,
            0],
       [ 7655,  5996,  6216,  4598,  3839,  2996,  2026,  1650,   792,
          465],
       [43351, 35766, 32950, 24816, 22691, 21644, 14702,  9378,  5111,
         3625],
       [ 7765,  7309,  6563,  6380,  6676,  5844,  5372,  4714,  4384,
         3638],
       [ 7153,  7491,  7759,  7341,  7842,  7775,  7812,  7751,  6795,
         5998],
       [ 2558,  2774,  3044,  3463,  4298,  3429,  3315,  3007,  1199,
         1517],
       [  990,   926,  1160,  1017,   870,   717,   624,   480,   208,
          139],
       [ 3857,  4288,  4801,  4903,  5108,  4887,  5347,  5091,  3448,
         2289],
       [ 1692,  2117,  2279,  1677,  1770,  1753,  1621,  1398,   663,
          512],
       [ 6934,  7155,  7189,  6567,  6703,  6249,  5991,  5967,  4469,
         3781],
       [    1,     0,     0,   285,   736,   852,   908,  1983,  1404,
         1271],
       [ 2046,  1992,  1716,  1849,  1699,  1559,  1262,     0,     0,
            0],
       [    0,     0,     0,     0,     0,     0,    25,  4193,  2599,
         1833],
       [ 6844,  6943,  6732,  5667,  5181,  4407,  4144,     0,     0,
            0],
       [  746,   782,   786,   704,   644,   578,   494,   440,   299,
          288],
       [  789,   733,   605,   511,   576,   554,   767,   571,   662,
         1628],
       [17875, 17981, 16326, 16685, 15114, 11183,  4100,     0,     0,
            0],
       [13702, 14402, 14373,  9762,  3029,  1356,   966,   437,   125,
           60],
       [ 3684,  3398,  3145,  2267,  1275,  1056,   607,    17,     0,
            3],
       [ 3753,  4306,  4885,  3462,  2812,  2101,  1623,  1353,   478,
          605],
       [ 3873,  5490, 11698, 11303, 10335, 10200, 10467,  9613,  5250,
         4151],
       [  608,   532,   841,   757,   599,   792,   762,  1085,   955,
          608],
       [ 8591,  6375,   728,   595,   548,   554,   492,     0,     0,
            0],
       [ 1823,  1571,  1165,  1016,   856,   734,   703,   372,   133,
           48],
       [ 6723,  6707,  6231,  6648,  6090,  5782,  5443,  5474,  4689,
         3307],
       [  781,   786,  1187,  1015,  1174,  1137,  1314,  1617,  1080,
         1022],
       [ 8152,  9956, 11005,  8136,  8387,  8757,  7866,  5750,  1983,
         1980]]
 
 
				

	var action =1;

	function black(){
					  action = 1;
						svg.selectAll("g").remove();
						var data=data_black
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}

function white(){
					  action = 2;
						svg.selectAll("g").remove();
						var data=[[    1,     0,    74,   475,   394,   238,    96,    59,    10,
            8],
       [ 4154,  3908,  4093,  3886,  3738,  3486,  3532,  3195,  2256,
         1911],
       [  713,   809,   689,   674,   587,   569,   581,   563,   714,
          544],
       [   60,    31,    31,    22,    32,    32,    53,  1441,  1124,
         1181],
       [ 2488,  2381,  2203,  1966,  1725,  1859,  1626,     0,     0,
            0],
       [ 1199,  1092,  1084,   806,   729,   693,   500,   437,   250,
          161],
       [11696, 10388,  9903,  7900,  7575,  6824,  4194,  2509,  1333,
         1000],
       [ 1615,  1587,  1532,  1205,  1184,  1031,   806,   656,   403,
          299],
       [ 1343,  1329,  1326,  1375,  1342,  1283,  1262,  1284,  1179,
          928],
       [  423,   440,   334,   356,   434,   431,   353,   311,   111,
          134],
       [  169,   139,   128,   117,    92,    97,    71,    68,    34,
           18],
       [ 1093,  1167,  1622,  1324,  1466,  1450,  1456,  1343,   914,
          675],
       [ 1930,  2046,  2011,  1448,  1363,  1287,  1119,   926,   371,
          246],
       [ 1874,  1850,  1776,  1821,  1877,  1855,  1657,  1677,  1354,
         1006],
       [    0,     0,     0,    98,   208,   250,   245,   534,   436,
          292],
       [  535,   497,   519,   561,   469,   422,   450,     0,     0,
            0],
       [    0,     0,     0,     0,     0,     0,     4,   704,   517,
          354],
       [ 1530,  1327,  1280,  1116,  1003,   761,   673,     0,     0,
            0],
       [  255,   218,   176,   183,   195,   199,   146,   138,    86,
           88],
       [  200,   185,   179,   143,   190,   204,   119,    73,    84,
          125],
       [ 2325,  2556,  2871,  2392,  2336,  1742,   750,     0,     0,
            0],
       [ 2324,  2440,  2384,  1520,   592,   297,   205,   115,    51,
            9],
       [  800,   739,   690,   444,   261,   245,   185,     4,     0,
            0],
       [  864,   993,  1155,   955,   896,   735,   566,   441,   167,
          148],
       [ 1088,  2011,  4905,  4404,  4363,  4053,  4021,  3844,  2095,
         1657],
       [  149,   154,   175,   124,    98,    86,   108,   228,   190,
          127],
       [ 3523,  2843,   221,   193,   139,   164,   132,     0,     0,
            0],
       [  477,   394,   376,   302,   264,   186,   157,    80,    32,
            3],
       [  666,   552,   615,   553,   578,   491,   514,   480,   422,
          359],
       [  210,   196,   272,   240,   286,   292,   331,   448,   217,
          238],
       [ 2486,  3041,  3286,  2507,  2817,  2608,  2433,  1692,   538,
          412]]
				
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}
    

function asian(){
					  action = 4;
						svg.selectAll("g").remove();
						var data=[[   1,    0,   18,  114,  132,   78,   25,   18,    4,    9],
       [1736, 1825, 2116, 1974, 2001, 2193, 2140, 2114, 1701, 1438],
       [ 141,  180,  157,  146,  167,  139,  152,  133,  119,   80],
       [   6,   15,   12,   10,   14,   10,   11,  528,  395,  375],
       [ 489,  538,  506,  572,  538,  532,  586,    0,    0,    0],
       [ 323,  320,  295,  253,  275,  223,  218,  171,   64,   52],
       [1907, 1934, 1814, 1707, 1781, 1857, 1300,  790,  370,  324],
       [ 338,  388,  340,  314,  329,  298,  284,  194,  164,  135],
       [ 639,  716,  802,  800,  860,  844,  934, 1008,  866,  763],
       [ 313,  335,  263,  235,  275,  262,  239,  202,   74,  118],
       [  40,   37,   42,   37,   51,   36,   33,   42,    9,    9],
       [ 351,  414,  528,  500,  574,  637,  589,  589,  264,  188],
       [ 737,  769,  677,  546,  496,  477,  385,  342,  201,  140],
       [ 563,  671,  710,  674,  767,  773,  759,  798,  633,  586],
       [   0,    0,    0,   45,   78,  117,  120,  232,  180,  150],
       [ 204,  197,  202,  239,  222,  192,  161,    0,    0,    0],
       [   0,    0,    0,    0,    0,    0,    2,  287,  209,  147],
       [ 358,  385,  350,  299,  367,  289,  255,    0,    0,    0],
       [ 107,  101,   83,   57,   57,   63,   54,   66,   41,   40],
       [ 484,  409,  450,  344,  290,  197,  166,  150,   64,  151],
       [ 628,  680,  670,  699,  556,  402,  183,    0,    0,    0],
       [ 560,  625,  690,  836,  801,  345,  169,   19,   16,    2],
       [ 680,  669,  736,  478,  288,  230,  109,    0,    0,    0],
       [ 247,  365,  403,  312,  303,  311,  250,  222,   74,   75],
       [ 288,  595, 1504, 1402, 1332, 1068, 1098,  992,  529,  390],
       [  50,   43,   36,   35,   36,   36,   50,  153,   79,   67],
       [1178,  994,  105,  101,   85,   86,  117,    0,    0,    0],
       [ 480,  626,  588,  532,  504,  392,  342,  327,   84,   62],
       [ 274,  267,  271,  294,  312,  293,  286,  291,  264,  165],
       [ 101,   98,  157,  162,  185,  202,  261,  385,  273,  270],
       [ 772,  969, 1098,  880, 1025, 1141, 1168,  959,  290,  179]]
				
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}


function unknown(){
					  action = 5;
						svg.selectAll("g").remove();
						var data=[[308, 507, 347, 251, 270, 215, 190, 132,  99,  51],
       [108, 157, 129, 108, 113,  95,  80, 100,  53,  34],
       [685, 750, 534, 388, 428, 307, 151,  96,  33,  33],
       [ 93, 209, 322, 298, 222, 210, 143, 110,  35,  31],
       [408, 749, 543, 346, 324, 360, 233, 190,  69,  28],
       [128, 161, 131, 111,  93, 100,  70,  56,  24,  21],
       [ 38,  70,  53,  37,  47,  34,  27,  39,  16,  20],
       [ 36,  34,  31,  38,  30,  24,  37,  46,  19,  19],
       [ 34,  53,  31,  29,  22,  10,  15,  11,   6,  17],
       [  3,   6,   3,   4,   3,   3,   0,  55,  25,  16],
       [  0,   0,   0,   0,   0,   0,   1,  45,  23,  22],
       [ 20,  47,  39,  25,  25,  16,  13,  13,  12,  15],
       [120, 166,  98,  64,  61,  49,  28,  23,  15,  14],
       [  0,   0,   0,   5,  12,  13,  10,  19,  28,  13],
       [ 60,  91,  91, 114,  94,  84,  91,  75,  14,  12],
       [180, 248, 229, 164, 149, 118,  92,  84,  43,  11],
       [122, 187, 170, 127,  92,  69,  31,  54,  20,   8],
       [ 17,  34,  22,  16,  16,  15,  11,   7,   4,   7],
       [107, 111,  67,  62,  80,  56,  30,  32,  13,   6],
       [ 18,  13,  12,   6,   8,   6,   5,  18,  10,   5],
       [231, 335, 282, 178,  64,  28,  11,   9,   1,   1],
       [  0,   0,  12,  49,  31,  11,   5,   6,   0,   1],
       [114, 142, 114,  82,  50,  38,  29,  14,   7,   0],
       [ 37,  43,  29,  45,  27,  42,   9,  12,   5,   0],
       [ 18,  38,  23,  20,  10,  14,  13,   8,   3,   0],
       [ 86, 122,  81,  63,  53,  87,  53,   0,   0,   0],
       [204, 348, 297, 242, 198, 151,  52,   0,   0,   0],
       [147, 197, 119,  96,  98,  72,  50,   0,   0,   0],
       [268, 280,  41,  27,  21,  31,  32,   0,   0,   0],
       [124, 139, 110, 117,  85,  27,  28,   0,   0,   0],
       [ 34,  61,  35,  43,  38,  22,  23,   0,   0,   0]]
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}


function bh(){
					  action = 6;
						svg.selectAll("g").remove();
						var data=[[   0,    1,   29,  261,  238,  115,   45,   59,   12,    5],
       [2901, 3368, 3283, 2944, 2882, 2860, 3105, 2874, 2103, 1725],
       [ 336,  457,  434,  408,  409,  371,  443,  378,  505,  332],
       [  16,   20,   21,   13,   13,   18,   29,  799,  659,  546],
       [ 775,  896,  880,  812,  901,  868,  762,    0,    0,    0],
       [1442, 1285, 1503,  998,  656,  527,  393,  245,  123,   64],
       [8705, 8082, 7514, 5804, 5531, 4918, 3324, 2207, 1233,  895],
       [1272, 1280, 1195, 1230, 1205,  945,  836,  719,  542,  413],
       [1112, 1211, 1256, 1246, 1261, 1307, 1294, 1349, 1257,  964],
       [ 303,  336,  304,  361,  581,  405,  394,  349,  126,  186],
       [ 121,  135,  175,  139,  108,   80,   87,   75,   30,   21],
       [ 460,  641,  756,  772,  777,  721,  774,  789,  513,  495],
       [ 407,  574,  527,  473,  505,  468,  460,  368,  170,  157],
       [ 880, 1008,  933,  809,  868,  922,  787,  843,  531,  548],
       [   0,    1,    0,   65,  138,  173,  191,  392,  261,  196],
       [ 333,  400,  336,  355,  316,  301,  274,    0,    0,    0],
       [   0,    0,    0,    0,    0,    0,    3,  663,  441,  319],
       [ 918, 1088, 1094,  908,  879,  794,  691,    0,    0,    0],
       [ 162,  198,  164,  169,  164,  149,  120,  125,   73,   89],
       [ 111,   93,  113,  104,  111,  146,  167,  126,  137,  362],
       [2637, 3008, 2632, 2365, 2396, 1603,  575,    0,    0,    0],
       [1427, 1918, 1923, 1316,  326,  156,  127,   49,   16,   10],
       [ 454,  504,  484,  294,  223,  175,   90,    5,    4,    4],
       [ 303,  453,  475,  336,  294,  254,  228,  201,   92,   79],
       [ 673,  982, 1889, 1827, 1650, 1709, 1667, 1592,  793,  701],
       [  81,   93,  127,   96,   62,   89,  124,  249,  161,  169],
       [1088, 1064,  171,  125,  128,  128,  124,    0,    0,    0],
       [ 246,  228,  174,  177,  150,  126,  107,   66,   62,    8],
       [ 893,  940,  966, 1012,  973,  920,  837,  890,  727,  581],
       [ 127,  191,  241,  218,  261,  235,  299,  365,  246,  199],
       [1658, 1999, 2076, 1601, 1734, 1986, 1963, 1500,  439,  366]]
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}
    
function wh(){
					  action = 7;
						svg.selectAll("g").remove();
						var data=[[    2,     2,   256,  1454,  1261,   777,   364,   223,    42,
           18],
       [10382, 10556, 10689,  9770,  9516,  9080,  9312,  8517,  6361,
         5293],
       [ 1266,  1302,  1337,  1272,  1176,  1240,  1205,  1199,  1581,
          950],
       [   67,    71,    58,    53,    44,    40,   105,  2345,  1890,
         1656],
       [ 3408,  3496,  3241,  3092,  2872,  2683,  2627,     0,     0,
            0],
       [ 4193,  3517,  3642,  2830,  2132,  1518,  1000,   725,   314,
          203],
       [22951, 19640, 18693, 14523, 14136, 12982,  8865,  6057,  3202,
         2276],
       [ 3727,  3700,  3392,  3308,  3298,  2563,  2291,  1607,  1199,
          952],
       [ 3559,  3683,  3602,  3624,  3770,  3672,  3759,  3663,  3283,
         2729],
       [ 1164,  1234,   971,  1034,  1029,   975,   958,   892,   327,
          523],
       [  336,   395,   408,   383,   303,   253,   205,   196,   102,
           55],
       [ 1648,  1860,  2032,  1938,  1938,  1991,  2147,  2014,  1374,
         1089],
       [ 2137,  2626,  2682,  2087,  2133,  1945,  1777,  1517,   843,
          639],
       [ 2961,  3133,  3037,  2752,  2989,  2882,  2757,  2943,  2099,
         1662],
       [    0,     3,     1,   145,   419,   450,   449,  1046,   743,
          622],
       [ 1231,  1108,  1005,  1158,   979,   881,   691,     0,     0,
            0],
       [    0,     0,     0,     0,     0,     0,    16,  1836,  1128,
          790],
       [ 3097,  3130,  3177,  2661,  2378,  2014,  1904,     0,     0,
            0],
       [  544,   492,   431,   403,   356,   314,   263,   253,   201,
          224],
       [  328,   284,   286,   238,   282,   263,   343,   270,   271,
          676],
       [ 7708,  8315,  7814,  7495,  6688,  4792,  1691,     0,     0,
            0],
       [ 6637,  7226,  7288,  4833,  1488,   677,   463,   195,    56,
           28],
       [ 1471,  1622,  1472,  1006,   645,   562,   319,    12,     1,
            7],
       [ 1616,  1741,  1888,  1469,  1286,  1178,   899,   836,   261,
          285],
       [ 2154,  3245,  6715,  6445,  5894,  5708,  5922,  5404,  2673,
         2177],
       [  226,   259,   250,   259,   208,   241,   300,   495,   435,
          380],
       [ 4622,  3801,   485,   373,   297,   352,   302,     0,     0,
            0],
       [  990,   795,   565,   504,   491,   523,   494,   242,   151,
           41],
       [ 2248,  2253,  2037,  2225,  2202,  2047,  1905,  2077,  1814,
         1264],
       [  598,   616,   808,   803,   910,   968,  1057,  1272,   887,
          839],
       [ 5601,  6563,  6644,  5101,  5357,  5848,  5430,  4082,  1249,
         1012]]
					 var xScale = d3.scaleLinear()
					 	      .domain([0, 70000])  // CHANGE
					 	      .range([0, innerWidth]);

									var yScale = d3.scaleBand()
			 											.domain(d3.range(81))
			 											.range([margin.top, innerHeight])
			 											.paddingInner(0.2);

			 											var databind=[];
			 											var data_first=[];

			 											var data_first=data.map(d=>d[0]);
			 											//console.log(data_first);
			 											for (j=0;j<data_first.length;j++){

			 											databind.push({key:STATE[j],value:data_first[j]});}

			 											svg.append("g").selectAll("rect")
			 														 .data(databind)
			 														 .enter()
			 														 .append("rect").attr("x",margin.left).attr("width",function(d){return xScale(d.value)}).attr("fill",function(d,i){return color[i]}
			 										).attr("height", yScale.bandwidth()).attr("y",function(d){
			 										for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 											t=data_first.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)}
			 											return t;}}});

			 										svg.select("g").selectAll("text")
			 													 .data(databind)
			 													 .enter()
			 													 .append("text").attr("x",50).text(d=>d.key).attr("y",function(d){
			 													 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 														 t=data_first.length-m-1;
			 														if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 														return t;}}}).attr("font-size","15px");


			 										svg.append("g").attr("id","label").selectAll("text")
			 																	.data(databind)
			 																	.enter()
			 																	.append("text").attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 																 for(m=0;m<data_first.length;m++){if(data_first.sort(d3.ascending)[m]==d.value){
			 																	 t=data_first.length-m-1;
			 																	if(t>15) {t=h+5000} else{t=yScale(data_first.length-m-1)+yScale.bandwidth()/2}
			 																	return t;}}}).attr("font-size","15px");

			 										svg.append("g").append("text").attr("id","Time").attr("x",750).text("Year"+" "+Month[0]).attr("y",470).attr("font-size","40px")

			 											for (i=1;i<Month.length;i++){
			 												databind=[];
			 												data_now=data.map(d=>d[i]);
			 												// binding new data
			 												for (j=0;j<data_first.length;j++){
			 												databind.push({key:STATE[j],value:data_now[j]});}

			 										
			 											svg.select("g").selectAll('rect').data(databind).transition().delay(1000*i).duration(800)
			 											.attr("width",function(d){return xScale(d.value)}).attr("y",function(d){
			 											for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 												t=data_now.length-m-1;
			 												if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)}
			 												return t;}}});

			 										svg.select("g").selectAll('text').data(databind).transition().delay(1000*i).duration(800).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});

			 										svg.select("g#label").selectAll('text').data(databind).transition().delay(1000*i).duration(800)
			 										.attr("x",function(d){return xScale(d.value)+430}).text(d=>d.value).attr("y",function(d){
			 										for(m=0;m<data_now.length;m++){if(data_now.sort(d3.ascending)[m]==d.value){
			 											t=data_now.length-m-1;
			 											if(t>15) {t=h+5000} else{t=yScale(data_now.length-m-1)+yScale.bandwidth()/2}
			 											return t;}}});
			 										svg.select("#Time").transition().delay(1100*i).duration(800)
			 										.text("Year"+" "+Month[i])
			 										}

}

		</script>

	</body>
</html>
